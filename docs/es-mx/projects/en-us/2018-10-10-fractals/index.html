<!DOCTYPE html>
<html lang="es-mx">
  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <!-- Metadata, OpenGraph and Schema.org -->




<!-- Standard metadata -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">




<title>
  
    
      Fractals from random walkers | Ollin D. Langle-Chimal
    
  
</title>
<meta name="author" content="Ollin D. Langle-Chimal">
<meta name="description" content="Using L-systems and Diffusion-Limited Aggregation to create fractals.">

  <meta name="keywords" content="complex-systems, complex-networks, urban-science, economics">










<!-- Bootstrap & MDB -->
<link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">



<!-- Fonts & Icons -->
<link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5">
<link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772">
<link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap">

<!-- Code Syntax Highlighting -->
<link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light">



<!-- Styles -->




  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;">

<link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e">
<link rel="canonical" href="http://localhost:4000/es-mx/projects/en-us/2018-10-10-fractals/">

<!-- Dark Mode -->
<script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script>

  <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark">
  <script>
    initTheme();
  </script>










  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">
    <!-- Header -->
    <header>
  <!-- Nav Bar -->
  <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation">
    <div class="container">
      
        <a class="navbar-brand title font-weight-lighter" href="/es-mx/">
          Ollin D. Langle-Chimal
        </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>

      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          

          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/es-mx/">about
              
            </a>
          </li>

          <!-- Other pages -->
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                
                <li class="nav-item ">
                  <a class="nav-link" href="/es-mx/blog/">blog
                    
                  </a>
                </li>
              
            
          
            
              
                
                <li class="nav-item ">
                  <a class="nav-link" href="/es-mx/publications/">publications
                    
                  </a>
                </li>
              
            
          
            
              
                
                <li class="nav-item active">
                  <a class="nav-link" href="/es-mx/projects/">projects
                    
                      <span class="sr-only">(current)</span>
                    
                  </a>
                </li>
              
            
          
            
              
                
                <li class="nav-item ">
                  <a class="nav-link" href="/es-mx/repositories/">GitHub
                    
                  </a>
                </li>
              
            
          
            
              
                
                <li class="nav-item ">
                  <a class="nav-link" href="/es-mx/cv/">cv
                    
                  </a>
                </li>
              
            
          
            
              
                
                <li class="nav-item ">
                  <a class="nav-link" href="/es-mx/teaching/">teaching
                    
                  </a>
                </li>
              
            
          
            
              
                
                <li class="nav-item ">
                  <a class="nav-link" href="/es-mx/people/">people
                    
                  </a>
                </li>
              
            
          
            
              
                
                
                <li class="nav-item dropdown ">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus
                    
                  </a>
                  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                    
                      
                        <a class="dropdown-item " href="/es-mx/books/">bookshelf</a>
                      
                    
                      
                        <div class="dropdown-divider"></div>
                      
                    
                      
                        <a class="dropdown-item " href="/es-mx/blog/">blog</a>
                      
                    
                  </div>
                </li>
              
            
          
          
            <!-- Search -->
            <li class="nav-item">
              <button id="search-toggle" title="Search" onclick="openSearchModal()">
                <span class="nav-link">ctrl k <i class="ti ti-search"></i></span>
              </button>
            </li>
          
          <!-- Toogle language -->
          
            
              <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  ES-MX
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  
                  
                    
                      
                      
                        <a class="dropdown-item" href="/projects/en-us/2018-10-10-fractals/">
                          
                            EN-US</a>
                      
                      
                    
                  
                    
                  
                    
                      
                        <div class="dropdown-divider"></div>
                      
                      
                        <a class="dropdown-item" href="/pt-br/projects/en-us/2018-10-10-fractals/">
                          
                            PT-BR</a>
                      
                      
                    
                  
                    
                      
                        <div class="dropdown-divider"></div>
                      
                      
                        <a class="dropdown-item" href="/fr-ca/projects/en-us/2018-10-10-fractals/">
                          
                            FR-CA</a>
                      
                      
                    
                  
                </div>
              </li>
            
          
          
            <!-- Toogle theme mode -->
            <li class="toggle-container">
              <button id="light-toggle" title="Change theme">
                <i class="ti ti-sun-moon" id="light-toggle-system"></i>
                <i class="ti ti-moon-filled" id="light-toggle-dark"></i>
                <i class="ti ti-sun-filled" id="light-toggle-light"></i>
              </button>
            </li>
          
        </ul>
      </div>
    </div>
  </nav>
  
    <!-- Scrolling Progress Bar -->
    <progress id="progress" value="0">
      <div class="progress-container">
        <span class="progress-bar"></span>
      </div>
    </progress>
  
</header>


    <!-- Content -->
    <div class="container mt-5" role="main">
      
        

<div class="post">
  <header class="post-header">
    <h1 class="post-title">Fractals from random walkers</h1>
    <p class="post-description">Using L-systems and Diffusion-Limited Aggregation to create fractals.</p>
  </header>

  <article>
    <p><img src="/assets/images/fractals/lsystem.gif" alt="heart"></p>

<p>The song in my mind while doing this was:</p>
<iframe src="https://open.spotify.com/embed/track/64b4H2swBOouj8J0AZ4buE" width="300" height="100" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>

<p>TLDR;</p>

<p>You promised fractals! take me to the fractals! a.k.a. assignment answers</p>

<p><a href="#weed-1">The one on Flakeâ€™s 6.5</a></p>

<p><a href="#building-your-fractal">DIY</a></p>

<p><a href="#cool-stuff">Cool fractals</a></p>

<p><a href="#dla">DLA</a></p>

<p>This was an assingment from my Modeling Complex Systems course but
as I got such a beautiful plots I decided to go for a blog post showing
the results from there.</p>

<p>The first thing that I want to talk about is that my main result from
that class is going to be a <img src="https://pbs.twimg.com/profile_images/3331406046/647b7cf75cb5662b96901bc521968e94_400x400.png" alt="julia" style="width:20px;">
julia package (which is hosted right here <a href="https://github.com/ollin18/ComplexSystems.jl" rel="external nofollow noopener" target="_blank"><img src="https://assets-cdn.github.com/images/modules/logos_page/GitHub-Mark.png" alt="github" style="width:30px;"></a>), itâ€™s in very early stages so itâ€™ll be changing rapidly (stay tuned); PR, issues and feedback are welcomed and encouraged.</p>

<h1 id="l-systems">L-systems</h1>

<p>So the first part of the assignment was to fix a L-systems  code  written in Matlab, but is well known that in order to fix a Matlab code the first thing you have to do is to write in another language (free and open source), so thatâ€™s where I decided to build my implementation in Julia from scratch. I didnâ€™t like the object oriented direction that was taken in the original one and decided to go for a <em>dictionary</em> way.</p>

<p>First of all, for those who donâ€™t already know what an L-system (which stands for Lindenmayer system) is an iterative rewriting system which consist in certain rules. These rules are pattern matching ones, so in every iteration you have to look for a certain pattern and replace it with a given rule.</p>

<blockquote>
  <p>Example:</p>

  <p>We have the following string: <strong>FGFGFFF</strong></p>

  <p>And a rule <strong>F -&gt; FG</strong></p>
</blockquote>

<p>Then:</p>

<table>
  <tbody>
    <tr>
      <td>Iteration</td>
      <td>Resulting String</td>
    </tr>
    <tr>
      <td>0</td>
      <td>FGFGFFF</td>
    </tr>
    <tr>
      <td>1</td>
      <td>FGGFGGFGFGFG</td>
    </tr>
    <tr>
      <td>2</td>
      <td>FGGFGGGFGGFGGFGG</td>
    </tr>
  </tbody>
</table>

<p>And so on.</p>

<p>So the first problem was to reproduce a figure from Flakeâ€™s book <em>The Computational Beauty of Nature</em> with our shiny new software. But first we want to see if we get the same result from the Matlabâ€™s example code (which I think was hosted <a href="https://courses.cit.cornell.edu/bionb441/LSystem/index.html" rel="external nofollow noopener" target="_blank">here</a>).</p>

<p>The set of rules was:</p>

<p><strong>F -&gt; FF</strong></p>

<p><strong>G -&gt; F[+G][-G]F[+G][-G]FG</strong></p>

<p>We have to know that <strong>[ ]</strong> means that the rules given inside the brakets are only good inside them, so when we hit <strong>]</strong> weâ€™ll return the parameters to the ones that we had before entering them, and the <strong>+ -</strong> signs mean a change in the angle of movement. So, we need a starting point a starting angle and a change rate $\Delta$ for that angle. The starting position is called <em>axiom</em> and its a string seed. In this case we have <em>axiom = G</em> and $\Delta$ = 27.5Â°.</p>

<p>The resulting figure after 2 iterations is
<img src="/assets/images/fractals/example.png" alt="example"></p>

<p>Now we want to reproduce the figure that weâ€™ve been told to do. It has the following parameters:</p>
<h3 id="weed-1">Weed 1</h3>

<table>
  <tbody>
    <tr>
      <td>Rules</td>
      <td>$\Delta$</td>
      <td>Axiom</td>
    </tr>
    <tr>
      <td>F -&gt; F[-F]F[+F]F</td>
      <td>25</td>
      <td>F</td>
    </tr>
  </tbody>
</table>

<p><img src="/assets/images/fractals/flake65.png" alt="weed"></p>

<p>I donâ€™t have the original image right here, but I can tell you that it is the same ðŸ˜œ</p>

<h3 id="building-your-fractal">Building your fractal</h3>

<p>Sometimes we need to change the angle more than once, so we can add a number preceding the <strong>+ -</strong> signs to tell the (as itâ€™s known) turtle, to change direction multiple times, i.e. if we have $\Delta$ = 10Â°, then <strong>4+</strong> will change the angle 40Â° counterclockwise (the same way we normaly measure angles). So that leaves us with the second question of the assignment which was to implement that and try to reproduce a cool figure we came up with.</p>

<p>As Iâ€™m a romantic I will try to do a fractal or pseudo-fractal version of this</p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Love_Heart_SVG.svg/968px-Love_Heart_SVG.svg.png" alt="heart" style="width:200px;"></p>

<p>And Iâ€™ll be doing it with the following set of parameters</p>

<table>
  <tbody>
    <tr>
      <td>Rules</td>
      <td>$\Delta$</td>
      <td>Axiom</td>
    </tr>
    <tr>
      <td>F -&gt; FF[+F][-F]</td>
      <td>45Â°</td>
      <td>F</td>
    </tr>
    <tr>
      <td>+ -&gt; +F[+2F][-2F]</td>
      <td>Â </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>- -&gt; -F[-3F][+3F]</td>
      <td>Â </td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<p>It is a very basic set of rules, but what I wanted to do was avoiding branches to touch (at least the small ones).</p>

<p>The final result</p>

<p><img src="/assets/images/fractals/lsystem.gif" alt="heart"></p>

<p>This was achieved by 1-4 iterations of those rules, but we can also see how it grows (on a 3 iteration process)</p>

<p><img src="/assets/images/fractals/fast_build.gif" alt="build"></p>

<p>Here are another cool examples of what can be done</p>

<h4 id="cool-stuff">Cool stuff</h4>

<p><img src="/assets/images/fractals/sierpinski.gif" alt="sierpinski" style="width:200px;">
<img src="/assets/images/fractals/penrose.gif" alt="penrose" style="width:200px;">
<img src="/assets/images/fractals/spikes.gif" alt="spikes" style="width:200px;"></p>

<h1 id="diffusion-limited-aggregation">Diffusion-Limited Aggregation</h1>
<h3 id="dla">DLA</h3>

<p>So for this I did use a some kind of object oriented algorithm, but it is very simple. To speed up things I took advantege of Juliaâ€™s speed and try to make the code as modular as possible to get the must out of the JIT compiler. And as it turned out, it runs pretty fast actually.</p>

<p>I used 1000 random walkers in a 10x10 box and make them stop moving if they touched a non-moving walker, and I put a first one of those in the middle of the box. What I got was this cool looking thing</p>

<p><img src="/assets/images/fractals/initial.png" alt="dla"></p>

<h3 id="box-counting-algorithm">Box-counting algorithm</h3>

<p>The last question was to measure Minkowskiâ€™s dimension in the figure we got. The algorithm is very simple, you need to grid the space with boxes of the same size and count how many are needed to cover all of the figure. Then such dimension will be</p>

\[D = \lim_{a \rightarrow \infty} \frac{\ln(N)}{\ln(\frac{1}{a})}\]

<p>where a is the box size and N the number of boxes needed.</p>

<p>To make this possible I use the power of GEOS which is the sotfware that powers PostGIS and GeoPandas. I build a grid of boxes with filled properties and check wether those are empty or not.</p>

<p>A figure of the dimension as function of box size</p>

<p><img src="/assets/images/fractals/dimension.png" alt="dla"></p>

<p>The smallest a I used was 0.01 and got a dimension of 1.437</p>

<p>From that we could say that it has fractal structure. But we should test for smaller box sizes.</p>


  </article>

  

  
</div>

      
    </div>

    <!-- Footer -->
    


  <footer class="fixed-bottom" role="contentinfo">
    <div class="container mt-0">
      
  Â©
  2025
  Ollin
  D.
  Langle-Chimal. 
  
  

    </div>
  </footer>



    <!-- JavaScripts -->
    <!-- jQuery -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<!-- Bootsrap & MDB scripts -->
<script src="/assets/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>


  <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script>























  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script>






<!-- Load Common JS -->
<script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script>
<script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script>
<script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script>

<!-- Jupyter Open External Links New Tab -->
<script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script>

<!-- Badges -->

  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>


  <script async src="https://badge.dimensions.ai/badge.js"></script>



  <!-- MathJax -->
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script>
  
    <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script>
    <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script>
  



  <!-- Analytics -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9FS4V8SGLR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-9FS4V8SGLR');
  </script>
  <script defer src="/assets/js/google-analytics-setup.js"></script>







  <!-- Scrolling Progress Bar -->
  <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script>







  <!-- Back to Top -->
  <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script>
  <script>
    addBackToTop();
  </script>



  <!-- Search -->
  <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script>
  <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="">
    
    <div class="modal-footer" slot="footer">
      <span class="help">
        <svg version="1.0" class="ninja-examplekey" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 1280 1280">
          <path d="M1013 376c0 73.4-.4 113.3-1.1 120.2a159.9 159.9 0 0 1-90.2 127.3c-20 9.6-36.7 14-59.2 15.5-7.1.5-121.9.9-255 1h-242l95.5-95.5 95.5-95.5-38.3-38.2-38.2-38.3-160 160c-88 88-160 160.4-160 161 0 .6 72 73 160 161l160 160 38.2-38.3 38.3-38.2-95.5-95.5-95.5-95.5h251.1c252.9 0 259.8-.1 281.4-3.6 72.1-11.8 136.9-54.1 178.5-116.4 8.6-12.9 22.6-40.5 28-55.4 4.4-12 10.7-36.1 13.1-50.6 1.6-9.6 1.8-21 2.1-132.8l.4-122.2H1013v110z"></path>
        </svg>
        
      </span>
      <span class="help">
        <svg xmlns="http://www.w3.org/2000/svg" class="ninja-examplekey" viewbox="0 0 24 24">
          <path d="M0 0h24v24H0V0z" fill="none"></path>
          <path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" class="ninja-examplekey" viewbox="0 0 24 24">
          <path d="M0 0h24v24H0V0z" fill="none"></path>
          <path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"></path>
        </svg>
        
      </span>
      <span class="help">
        <span class="ninja-examplekey esc">esc</span>
        
      </span>
      <span class="help">
        <svg xmlns="http://www.w3.org/2000/svg" class="ninja-examplekey backspace" viewbox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M6.707 4.879A3 3 0 018.828 4H15a3 3 0 013 3v6a3 3 0 01-3 3H8.828a3 3 0 01-2.12-.879l-4.415-4.414a1 1 0 010-1.414l4.414-4.414zm4 2.414a1 1 0 00-1.414 1.414L10.586 10l-1.293 1.293a1 1 0 101.414 1.414L12 11.414l1.293 1.293a1 1 0 001.414-1.414L13.414 10l1.293-1.293a1 1 0 00-1.414-1.414L12 8.586l-1.293-1.293z" clip-rule="evenodd"></path>
        </svg>
        
      </span>
    </div>
  </ninja-keys>
  <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script>
  <script src="/es-mx/assets/js/search-data.js"></script>
  <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script>




  </body>
</html>
